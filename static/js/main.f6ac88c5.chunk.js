(this["webpackJsonpbus-scheduler"]=this["webpackJsonpbus-scheduler"]||[]).push([[0],[,function(e,t,n){e.exports={schedule:"schedule_schedule__1j-Iw",xAxis:"schedule_xAxis__1YbO1",hour:"schedule_hour__3hrj9",canAdd:"schedule_canAdd__1PCFT",cannotAdd:"schedule_cannotAdd__3GpAn",tripDisplay:"schedule_tripDisplay__2m3nV",asphalt:"schedule_asphalt__2H-Qk",roadLine:"schedule_roadLine__2a36l"}},,,function(e,t,n){e.exports={smallPadding:"helper_smallPadding__2OURO"}},,function(e,t,n){e.exports={app:"app_app__cewju",content:"app_content__ckDFI"}},,,,,function(e,t,n){e.exports={trip:"trip_trip__3_Wfw",shrink:"trip_shrink__2ve1o",exhaust:"trip_exhaust__2VBi2"}},,function(e,t,n){e.exports=n(21)},,,,,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),i=n.n(c),l=(n(18),n(12)),s=n(2),u=n(7),o=n(3),d=n.n(o);function p(e,t){return t.every((function(t){return e.endTime<=t.startTime||e.startTime>=t.endTime}))}function m(e){var t=e%60,n=Math.floor(e/60).toString().padStart(2,"0"),a=t.toString().padStart(2,"0");return"".concat(n,":").concat(a)}function h(){return d.a.uniqueId()}function f(e,t){return Object(s.a)({},e,{driver:t})}function _(e,t){return Object(s.a)({},t,{trips:t.trips.filter((function(t){return t.id!==e.id}))})}var v=n(5),b=n(10),E=n.n(b),g=n(11),j=n.n(g),N=function(e){var t=e.trip,n=e.selected,c=e.onSelect,i=Object(a.useCallback)((function(e){e.stopPropagation(),c(t)}),[t,c]);return r.a.createElement("div",{className:j.a.trip,key:t.id,style:{borderColor:n?"blue":"black",left:t.startTime,width:t.endTime-t.startTime},onClick:i},t.id)},k=n(1),O=n.n(k),S=n(4),w=n.n(S),x=function(e){var t=e.buses,n=e.selectedTrip,a=e.onSelectTrip,c=e.onSelectExistingBus,i=e.onSelectNewBus,l=r.a.createElement("thead",null,r.a.createElement("td",{colSpan:2}),r.a.createElement("td",{className:O.a.xAxis},d.a.range(12).map((function(e){return r.a.createElement("div",{className:O.a.hour},m(60*e))})))),s=r.a.createElement("tr",{className:O.a.canAdd},r.a.createElement("td",{colSpan:2,className:w.a.smallPadding},"New Bus"),r.a.createElement("td",{className:O.a.tripDisplay,onClick:i}));return r.a.createElement("table",{className:O.a.schedule},l,r.a.createElement("tbody",null,t.map((function(e,t){var i=e.id,l=e.trips,s="";n&&n.driver!==i&&(s=p(n,l)?O.a.canAdd:O.a.cannotAdd);var u=t%2===0,o=u?r.a.createElement("div",{className:O.a.roadLine}):null,h=E()(s,Object(v.a)({},O.a.asphalt,u)),f=d.a.min(l.map((function(e){return e.startTime})))||0,_=d.a.max(l.map((function(e){return e.endTime})))||0,b=f?m(f):"undefined",g=_?m(_):"undefined";return r.a.createElement("tr",{key:i,className:h},r.a.createElement("td",{className:w.a.smallPadding},"Bus #".concat(i)),r.a.createElement("td",{className:w.a.smallPadding},"".concat(b," - ").concat(g)),r.a.createElement("td",{className:O.a.tripDisplay,onClick:function(){return c({id:i,trips:l})}},l.map((function(e){return r.a.createElement(N,{key:e.id,trip:e,selected:e.id===(null===n||void 0===n?void 0:n.id),onSelect:a})})),o))})),n&&s))},T=n(6),y=n.n(T),A=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(null),o=Object(u.a)(i,2),d=o[0],m=o[1],v=Object(a.useCallback)((function(e){(null===d||void 0===d?void 0:d.id)===e.id?m(null):m(e)}),[d]),b=Object(a.useCallback)((function(e){if(null!==d&&p(d,e.trips)){var t=n.map((function(t){switch(t.id){case d.driver:return _(d,t);case e.id:var n=f(d,e.id);return Object(s.a)({},e,{trips:[].concat(Object(l.a)(e.trips),[n])});default:return t}})).filter((function(e){return e.trips.length>0}));c(t),m(null)}}),[d,n]),E=Object(a.useCallback)((function(){if(null!==d){var e=n.map((function(e){switch(e.id){case d.driver:return _(d,e);default:return e}})).filter((function(e){return e.trips.length>0})),t=h(),a={id:t,trips:[f(d,t)]};e.push(a),c(e),m(null)}}),[d,n]);return Object(a.useEffect)((function(){fetch("bus-scheduling-input.json").then((function(e){return e.json()})).then((function(e){return e.map((function(e){var t=h();return{id:t,trips:[Object(s.a)({},e,{driver:t})]}}))})).then((function(e){return c(e)}))}),[]),r.a.createElement("div",{className:y.a.app},r.a.createElement("div",{className:y.a.content},r.a.createElement("div",{className:y.a.header},r.a.createElement("h1",null,"Bus Scheduling App"),r.a.createElement("h4",null,"Solve NP-hard problems by hand")),n.length>0?r.a.createElement(x,{buses:n,selectedTrip:d,onSelectTrip:v,onSelectExistingBus:b,onSelectNewBus:E}):r.a.createElement("div",{className:w.a.smallPadding},"Loading!")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[13,1,2]]]);
//# sourceMappingURL=main.f6ac88c5.chunk.js.map